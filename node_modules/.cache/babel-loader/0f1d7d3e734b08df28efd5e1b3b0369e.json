{"ast":null,"code":"import _slicedToArray from \"/Users/jeffersonm./Code Projects/3D-research/cannon-js/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"/Users/jeffersonm./Code Projects/3D-research/cannon-js/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _jsxFileName = \"/Users/jeffersonm./Code Projects/3D-research/cannon-js/src/index.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport * as CANNON from \"cannon\";\nimport ReactDOM from \"react-dom\";\nimport React, { useEffect, useState } from \"react\";\nimport { Canvas } from \"react-three-fiber\";\nimport { useCannon, Provider } from \"./useCannon\";\nimport \"./styles.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Plane(_ref) {\n  _s();\n\n  var position = _ref.position;\n  // Register plane as a physics body with zero mass\n  var ref = useCannon({\n    mass: 0\n  }, function (body) {\n    var _body$position;\n\n    body.addShape(new CANNON.Plane());\n\n    (_body$position = body.position).set.apply(_body$position, _toConsumableArray(position));\n  });\n  return /*#__PURE__*/_jsxDEV(\"mesh\", {\n    ref: ref,\n    receiveShadow: true,\n    children: [/*#__PURE__*/_jsxDEV(\"planeBufferGeometry\", {\n      attach: \"geometry\",\n      args: [1000, 1000]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"meshPhongMaterial\", {\n      attach: \"material\",\n      color: \"#272727\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Plane, \"VuHV2mXdaYzFkr9ASxcpKv/eVkI=\", false, function () {\n  return [useCannon];\n});\n\n_c = Plane;\n\nfunction Box(_ref2) {\n  _s2();\n\n  var position = _ref2.position;\n  // Register box as a physics body with mass\n  var ref = useCannon({\n    mass: 100000\n  }, function (body) {\n    var _body$position2;\n\n    body.addShape(new CANNON.Box(new CANNON.Vec3(1, 1, 1)));\n\n    (_body$position2 = body.position).set.apply(_body$position2, _toConsumableArray(position));\n  });\n  return /*#__PURE__*/_jsxDEV(\"mesh\", {\n    ref: ref,\n    castShadow: true,\n    receiveShadow: true,\n    children: [/*#__PURE__*/_jsxDEV(\"boxGeometry\", {\n      attach: \"geometry\",\n      args: [2, 2, 2]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n      attach: \"material\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(Box, \"VuHV2mXdaYzFkr9ASxcpKv/eVkI=\", false, function () {\n  return [useCannon];\n});\n\n_c2 = Box;\nexport default function App() {\n  _s3();\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      showPlane = _useState2[0],\n      set = _useState2[1]; // When React removes (unmounts) the upper plane after 5 sec, objects should drop ...\n  // This may seem like magic, but as the plane unmounts it removes itself from cannon and that's that\n\n\n  useEffect(function () {\n    return void setTimeout(function () {\n      return set(false);\n    }, 5000);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Canvas, {\n    className: \"main\",\n    shadowMap: true,\n    camera: {\n      position: [0, 0, 15]\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"ambientLight\", {\n      intensity: 0.5\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"spotLight\", {\n      intensity: 0.6,\n      position: [30, 30, 50],\n      angle: 0.2,\n      penumbra: 1,\n      castShadow: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Provider, {\n      children: [/*#__PURE__*/_jsxDEV(Plane, {\n        position: [0, 0, -10]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), showPlane && /*#__PURE__*/_jsxDEV(Plane, {\n        position: [0, 0, 0]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        position: [1, 0, 1]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        position: [2, 1, 5]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        position: [0, 0, 6]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        position: [-1, 1, 8]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        position: [-2, 2, 13]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        position: [2, -1, 13]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), !showPlane && /*#__PURE__*/_jsxDEV(Box, {\n        position: [0.5, 1.0, 20]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 24\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n\n_s3(App, \"+lbGSgmtfXgJ7XtRIl0oNZ9/ymE=\");\n\n_c3 = App;\nReactDOM.render( /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 66,\n  columnNumber: 17\n}, this), document.getElementById(\"root\"));\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Plane\");\n$RefreshReg$(_c2, \"Box\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"sources":["/Users/jeffersonm./Code Projects/3D-research/cannon-js/src/index.js"],"names":["CANNON","ReactDOM","React","useEffect","useState","Canvas","useCannon","Provider","Plane","position","ref","mass","body","addShape","set","Box","Vec3","App","showPlane","setTimeout","render","document","getElementById"],"mappings":";;;;;;;;AAAA,OAAO,KAAKA,MAAZ,MAAwB,QAAxB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,aAApC;AACA,OAAO,cAAP;;;AAEA,SAASC,KAAT,OAA6B;AAAA;;AAAA,MAAZC,QAAY,QAAZA,QAAY;AAC3B;AACA,MAAMC,GAAG,GAAGJ,SAAS,CAAC;AAAEK,IAAAA,IAAI,EAAE;AAAR,GAAD,EAAc,UAACC,IAAD,EAAU;AAAA;;AAC3CA,IAAAA,IAAI,CAACC,QAAL,CAAc,IAAIb,MAAM,CAACQ,KAAX,EAAd;;AACA,sBAAAI,IAAI,CAACH,QAAL,EAAcK,GAAd,0CAAqBL,QAArB;AACD,GAHoB,CAArB;AAIA,sBACE;AAAM,IAAA,GAAG,EAAEC,GAAX;AAAgB,IAAA,aAAa,MAA7B;AAAA,4BACE;AAAqB,MAAA,MAAM,EAAC,UAA5B;AAAuC,MAAA,IAAI,EAAE,CAAC,IAAD,EAAO,IAAP;AAA7C;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAmB,MAAA,MAAM,EAAC,UAA1B;AAAqC,MAAA,KAAK,EAAC;AAA3C;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAMD;;GAZQF,K;UAEKF,S;;;KAFLE,K;;AAcT,SAASO,GAAT,QAA2B;AAAA;;AAAA,MAAZN,QAAY,SAAZA,QAAY;AACzB;AACA,MAAMC,GAAG,GAAGJ,SAAS,CAAC;AAAEK,IAAAA,IAAI,EAAE;AAAR,GAAD,EAAmB,UAACC,IAAD,EAAU;AAAA;;AAChDA,IAAAA,IAAI,CAACC,QAAL,CAAc,IAAIb,MAAM,CAACe,GAAX,CAAe,IAAIf,MAAM,CAACgB,IAAX,CAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAf,CAAd;;AACA,uBAAAJ,IAAI,CAACH,QAAL,EAAcK,GAAd,2CAAqBL,QAArB;AACD,GAHoB,CAArB;AAIA,sBACE;AAAM,IAAA,GAAG,EAAEC,GAAX;AAAgB,IAAA,UAAU,MAA1B;AAA2B,IAAA,aAAa,MAAxC;AAAA,4BACE;AAAa,MAAA,MAAM,EAAC,UAApB;AAA+B,MAAA,IAAI,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP;AAArC;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAsB,MAAA,MAAM,EAAC;AAA7B;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAMD;;IAZQK,G;UAEKT,S;;;MAFLS,G;AAcT,eAAe,SAASE,GAAT,GAAe;AAAA;;AAC5B,kBAAyBb,QAAQ,CAAC,IAAD,CAAjC;AAAA;AAAA,MAAOc,SAAP;AAAA,MAAkBJ,GAAlB,iBAD4B,CAE5B;AACA;;;AACAX,EAAAA,SAAS,CAAC;AAAA,WAAM,KAAKgB,UAAU,CAAC;AAAA,aAAML,GAAG,CAAC,KAAD,CAAT;AAAA,KAAD,EAAmB,IAAnB,CAArB;AAAA,GAAD,EAAgD,EAAhD,CAAT;AACA,sBACE,QAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,MAAlB;AAAyB,IAAA,SAAS,MAAlC;AAAmC,IAAA,MAAM,EAAE;AAAEL,MAAAA,QAAQ,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAP;AAAZ,KAA3C;AAAA,4BACE;AAAc,MAAA,SAAS,EAAE;AAAzB;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AACE,MAAA,SAAS,EAAE,GADb;AAEE,MAAA,QAAQ,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAFZ;AAGE,MAAA,KAAK,EAAE,GAHT;AAIE,MAAA,QAAQ,EAAE,CAJZ;AAKE,MAAA,UAAU;AALZ;AAAA;AAAA;AAAA;AAAA,YAFF,eASE,QAAC,QAAD;AAAA,8BACE,QAAC,KAAD;AAAO,QAAA,QAAQ,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,EAAR;AAAjB;AAAA;AAAA;AAAA;AAAA,cADF,EAEGS,SAAS,iBAAI,QAAC,KAAD;AAAO,QAAA,QAAQ,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP;AAAjB;AAAA;AAAA;AAAA;AAAA,cAFhB,eAGE,QAAC,GAAD;AAAK,QAAA,QAAQ,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP;AAAf;AAAA;AAAA;AAAA;AAAA,cAHF,eAIE,QAAC,GAAD;AAAK,QAAA,QAAQ,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP;AAAf;AAAA;AAAA;AAAA;AAAA,cAJF,eAKE,QAAC,GAAD;AAAK,QAAA,QAAQ,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP;AAAf;AAAA;AAAA;AAAA;AAAA,cALF,eAME,QAAC,GAAD;AAAK,QAAA,QAAQ,EAAE,CAAC,CAAC,CAAF,EAAK,CAAL,EAAQ,CAAR;AAAf;AAAA;AAAA;AAAA;AAAA,cANF,eAOE,QAAC,GAAD;AAAK,QAAA,QAAQ,EAAE,CAAC,CAAC,CAAF,EAAK,CAAL,EAAQ,EAAR;AAAf;AAAA;AAAA;AAAA;AAAA,cAPF,eAQE,QAAC,GAAD;AAAK,QAAA,QAAQ,EAAE,CAAC,CAAD,EAAI,CAAC,CAAL,EAAQ,EAAR;AAAf;AAAA;AAAA;AAAA;AAAA,cARF,EASG,CAACA,SAAD,iBAAc,QAAC,GAAD;AAAK,QAAA,QAAQ,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,EAAX;AAAf;AAAA;AAAA;AAAA;AAAA,cATjB;AAAA;AAAA;AAAA;AAAA;AAAA,YATF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAuBD;;IA5BuBD,G;;MAAAA,G;AA8BxBhB,QAAQ,CAACmB,MAAT,eAAgB,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA,QAAhB,EAAyBC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAzB","sourcesContent":["import * as CANNON from \"cannon\"\nimport ReactDOM from \"react-dom\"\nimport React, { useEffect, useState } from \"react\"\nimport { Canvas } from \"react-three-fiber\"\nimport { useCannon, Provider } from \"./useCannon\"\nimport \"./styles.css\"\n\nfunction Plane({ position }) {\n  // Register plane as a physics body with zero mass\n  const ref = useCannon({ mass: 0 }, (body) => {\n    body.addShape(new CANNON.Plane())\n    body.position.set(...position)\n  })\n  return (\n    <mesh ref={ref} receiveShadow>\n      <planeBufferGeometry attach=\"geometry\" args={[1000, 1000]} />\n      <meshPhongMaterial attach=\"material\" color=\"#272727\" />\n    </mesh>\n  )\n}\n\nfunction Box({ position }) {\n  // Register box as a physics body with mass\n  const ref = useCannon({ mass: 100000 }, (body) => {\n    body.addShape(new CANNON.Box(new CANNON.Vec3(1, 1, 1)))\n    body.position.set(...position)\n  })\n  return (\n    <mesh ref={ref} castShadow receiveShadow>\n      <boxGeometry attach=\"geometry\" args={[2, 2, 2]} />\n      <meshStandardMaterial attach=\"material\" />\n    </mesh>\n  )\n}\n\nexport default function App() {\n  const [showPlane, set] = useState(true)\n  // When React removes (unmounts) the upper plane after 5 sec, objects should drop ...\n  // This may seem like magic, but as the plane unmounts it removes itself from cannon and that's that\n  useEffect(() => void setTimeout(() => set(false), 5000), [])\n  return (\n    <Canvas className=\"main\" shadowMap camera={{ position: [0, 0, 15] }}>\n      <ambientLight intensity={0.5} />\n      <spotLight\n        intensity={0.6}\n        position={[30, 30, 50]}\n        angle={0.2}\n        penumbra={1}\n        castShadow\n      />\n      <Provider>\n        <Plane position={[0, 0, -10]} />\n        {showPlane && <Plane position={[0, 0, 0]} />}\n        <Box position={[1, 0, 1]} />\n        <Box position={[2, 1, 5]} />\n        <Box position={[0, 0, 6]} />\n        <Box position={[-1, 1, 8]} />\n        <Box position={[-2, 2, 13]} />\n        <Box position={[2, -1, 13]} />\n        {!showPlane && <Box position={[0.5, 1.0, 20]} />}\n      </Provider>\n    </Canvas>\n  )\n}\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"]},"metadata":{},"sourceType":"module"}